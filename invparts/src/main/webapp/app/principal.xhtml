<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <f:view locale="#{localeMB.localeCode}">
        <h:head>
            <f:facet name="first">
                <meta http-equiv="X-UA-Compatible" content="IE=edge" />
                <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
                <meta name="apple-mobile-web-app-capable" content="yes" />
            </f:facet>
            <title><ui:insert name="title">PrimeFaces Paradise</ui:insert></title>
            <h:outputScript name="js/nanoscroller.js" library="paradise-layout" />
            <h:outputScript name="js/layout.js" library="paradise-layout" />
            <ui:insert name="head"/>

            <style>
                body .ui-widget-header {
                    background: #ffffff;
                    color: #757575;
                    border: 1px solid #c7cdd1;
                    font-weight: bold;
                    font-size: 14px;
                }
            </style>

            <script type="text/javascript" >
                function deshabilitaRetroceso() {
                    window.location.hash = "no-back-button";
                    window.location.hash = "Again-No-back-button" //chrome
                    window.onhashchange = function () {
                        window.location.hash = "no-back-button";
                    }
                }
            </script>
        </h:head>

        <h:body styleClass="landing-body">
            <div class="layout-wrapper layout-menu-overlay">
                <ui:include src="../resources/template/topbar.xhtml" />
                <h:form>
                    <f:metadata>
                        <f:viewAction action="#{menuMB.validarUsuario}"/>
                    </f:metadata>


                    <div class="landing-wrapper">
                        <div style="position: absolute; right: 1%;" >
                            <p:commandButton value="Salir" icon="fa fa-sign-out" action="#{menuMB.logout}" />
                        </div>

                        <div id="features" style="margin-top: 70px;">
                            <div>
                                <div class="ui-g features-content">

                                    <ui:repeat value="#{menuMB.lstModulo}" var="modulo">
                                        <div class="ui-g-12 ui-md-6 feature-left">
                                            <p:commandLink ajax="false" action="#{menuMB.obtenerMenu}" style="text-decoration: none;">
                                                <p:graphicImage name="#{modulo.iconoModulo}" library="images" height="72px" width="72px"/>
                                                <f:setPropertyActionListener target="#{menuMB.idModulo}" value="#{modulo.idModulo}" />
                                            </p:commandLink>
                                            <h3>#{modulo.nombreModulo}</h3>
                                        </div>
                                    </ui:repeat>
                                </div>
                            </div>
                        </div>
                    </div>


                </h:form>
            </div>

            <h:outputStylesheet name="css/animate.css" library="paradise-layout" />
            <h:outputStylesheet name="css/layout-#{guestPreferences.layout}.css" library="paradise-layout" />
        </h:body>
    </f:view>
</html>
