<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="#{pageContext.servletContext.contextPath}/resources/template/template.xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:define name="head">

    </ui:define>

    <ui:define name="content">
        <div class="ui-g">
            <div class="ui-g-12">
                <div class="card card-w-title">
                    <p:menubar id="mbar">
                        <p:menuitem id="mitGuardar" value="#{msj.guardar}" action="#{locationMB.guardar()}" icon="fa fa-floppy-o" update="pnlFiltro tblDetalleEntrada"/>
                        <p:menuitem id="mitNuevo" value="#{msj.nuevo}" action="#{locationMB.nuevo()}" disabled="false" icon="fa fa-file-o" update="pnlFiltro"/>
                        <p:menuitem id="mitBuscar" value="Atras" action="home.xhtml" icon="fa fa-arrow-left" update="pnlFiltro"/>
                    </p:menubar>

                    <h3>
                        <i class="fa fa-puzzle-piece" aria-hidden="true"></i>
                        Ubicaciones
                    </h3>
                    <p:panel id="pnlFiltro" style="background-color: #E1F7E6;padding: 20px 6px !important;">
                        <p:panelGrid columns="2" columnClasses="col3, col9" styleClass="ui-panelgrid-blank ui-fluid">
                            <p:outputLabel value="Id"/>
                            <p:inputText value="#{locationMB.ubicacion.idUbicacion}" disabled="true"/>
                            <p:outputLabel value="Descripción"/>
                            <p:inputText value="#{locationMB.ubicacion.descripcion}"/>
                        </p:panelGrid>
                    </p:panel>
                    <br/>
                    <br/>

                    <h3>
                        <i class="fa fa-list" aria-hidden="true"></i> 
                        Lista de ubicaciones
                    </h3>
                    <p:dataTable id="tblDetalleEntrada" value="#{locationMB.lstUbicaciones}"  var="ubi" rowIndexVar="rowId" rowKey="#{ubi.idUbicacion}">
                        <p:column headerText="Id" style="text-align: center; border-right-width: 0px;border-left-width: 0px;" width="50">
                            <p:outputLabel value="#{ubi.idUbicacion}"/>
                        </p:column>
                        <p:column headerText="Descripción" style="border-right-width: 0px;border-left-width: 0px;">
                            <p:outputLabel value="#{ubi.descripcion}"/>
                        </p:column>
                        <p:column headerText="" width="15" style="text-align: center;border-right-width: 0px;border-left-width: 0px;">
                            <p:commandLink action="#{locationMB.eliminar}" update="pnlFiltro tblDetalleEntrada">
                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                                <f:setPropertyActionListener value="#{ubi}" target="#{locationMB.ubicacion}" />
                            </p:commandLink>
                        </p:column>
                    </p:dataTable>

                </div>
            </div>
        </div>
    </ui:define>
</ui:composition>